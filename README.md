# Mizugo
Mizugo是個以Go語言實作的遊戲伺服器框架

# 目錄說明
| 目錄            | 說明               |
|:----------------|:-------------------|
| doc             | 說明文件           |
| cmd/...         | 各種工具命令程式碼 |
| external/...    | 外部組件程式碼     |
| external/mizugo | mizugo程式碼       |
| internal/...    | 內部組件程式碼     |
| testdata        | 測試資料           |

# 名詞定義
* Server: 本地伺服器
* ClientListener: 玩家客戶端接聽器, 接受玩家客戶端連接, 最後產生玩家客戶端
* Client: 玩家客戶端
* RemoteListener: 遠端伺服器接聽器, 接受遠端伺服器連接, 最後產生遠端伺服器
* RemoteConnector: 遠端伺服器連接器, 連接遠端伺服器, 最後產生遠端伺服器
* Remote: 遠端伺服器
* Session: 表示連接(對方連接過來, 或是我方連接過去)內容
    * 獲得此連接的各種資訊
    * 對此連接發送封包功能
    * ??? 接收封包的話呢 ???

# 實體組件機制
通過實體與組件的組合, 在編譯期/執行期弄出一個好維護, 好擴展, 容易理解的物件管理架構
* 實體
    * 仿造unity的gameObject可能是個好主意
    * 基本事件: awake, start, dispose, update(要在事件協程中, 才不會造成執行衝突)
    * 事件協程: 依順序執行事件, 事件有外部事件也有內部事件, 其中要注意update(或是定期事件)該怎麼好好處理
        * 不知道redis內核是否有好方法
        * 事件整個是另一個專案的問題了
    * 實體資料: 實體編號, 名稱?
    * 內部鎖: 提供實體內部執行緒安全
    * 外部鎖: 提供實體外部執行緒安全(也就是組件吧)
    * 事件管理
    * 新增組件
    * 移除組件
    * 取得組件
    
* 組件
    * 實體可以用組件編號來管理組件, 管理器放在實體內部
    * 基本事件: awake, start, dispose, update(應該是由實體的update來執行的吧)
    * 組件資料: 組件編號, 名稱?
    * 取得實體: 用來執行實體提供的功能?

# 事件機制
通過事件編號與函式指標列表的組合來管理類似c#委派的元件
* 新增事件
* 刪除事件(函式指標)
* 刪除事件(函式指標列表)
* 清除事件(全部內容)
* 取得事件(函式指標列表)
* 事件函式樣式與參數很重要
* 要能夠容納封包事件